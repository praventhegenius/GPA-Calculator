<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Performance Dashboard</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Phosphor Icons (Clean, Professional Icons) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Google Fonts: Inter & JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        /* Professional Engineering Texture */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6;
            background-image: radial-gradient(#E5E7EB 1px, transparent 1px);
            background-size: 24px 24px;
            -webkit-font-smoothing: antialiased;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #D1D5DB;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF;
        }

        /* Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #2563EB;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #2563EB;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(4px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
    </style>
    
    <script>
        // Tailwind Configuration for custom colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1e293b', 
                        },
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        }
                    },
                    boxShadow: {
                        'subtle': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px -1px rgba(0, 0, 0, 0.02)',
                        'floating': '0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025)',
                    }
                }
            }
        }
    </script>
</head>
<body class="text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- CONSTANTS & CONFIG ---
        const GRADE_POINTS = {
            'S': { val10: 10, val4: 4.0, label: 'S (10)' },
            'A': { val10: 9, val4: 4.0, label: 'A (9)' },
            'B': { val10: 8, val4: 3.5, label: 'B (8)' },
            'C': { val10: 7, val4: 3.0, label: 'C (7)' },
            'D': { val10: 6, val4: 2.5, label: 'D (6)' },
            'E': { val10: 5, val4: 2.0, label: 'E (5)' },
            'F': { val10: 0, val4: 0.0, label: 'F (0)' }
        };

        const INITIAL_SUBJECTS = [
            { id: 1, name: 'Machine Learning', credits: 4, grade: '' },
            { id: 2, name: 'Database Systems', credits: 3, grade: '' },
            { id: 3, name: 'Operating Systems', credits: 3, grade: '' },
            { id: 4, name: 'Artificial Intelligence', credits: 3, grade: '' }
        ];

        const INITIAL_CONFIG = {
            includePrev: false,
            prevCredits: 0,
            prevCGPA: 0,
            includeNext: false,
            nextCredits: 24,
            nextTarget: 9.0
        };

        // --- HELPER FUNCTIONS ---
        const convertToGerman = (gpa10) => {
            if (gpa10 === 0) return 0;
            if (gpa10 < 5) return 5.0;
            if (gpa10 > 10) return 1.0;
            const result = 1 + 3 * ((10 - gpa10) / (10 - 5));
            return parseFloat(result.toFixed(2));
        };

        const interpolateUS = (gpa10) => {
            if (gpa10 >= 9) return 4.0;
            if (gpa10 >= 8) return 3.5 + ((gpa10 - 8) / 1) * 0.5;
            if (gpa10 >= 7) return 3.0 + ((gpa10 - 7) / 1) * 0.5;
            if (gpa10 >= 6) return 2.5 + ((gpa10 - 6) / 1) * 0.5;
            if (gpa10 >= 5) return 2.0 + ((gpa10 - 5) / 1) * 0.5;
            return 0.0;
        };

        // --- COMPONENTS ---

        // 1. Metric Card Component
        const MetricCard = ({ label, value, subValue, colorClass, icon }) => (
            <div className="bg-white rounded-lg border border-slate-200 p-5 shadow-subtle flex items-start justify-between transition-all hover:shadow-card group">
                <div>
                    <p className="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1">{label}</p>
                    <div className="flex items-baseline gap-2">
                        <span className={`text-3xl font-bold font-mono tracking-tight ${colorClass}`}>{value}</span>
                        {subValue && <span className="text-slate-400 text-sm font-medium">{subValue}</span>}
                    </div>
                </div>
                <div className={`w-10 h-10 rounded-full flex items-center justify-center text-xl ${colorClass.replace('text-', 'bg-').replace('600', '50').replace('700', '50')} ${colorClass}`}>
                    <i className={`ph-fill ${icon}`}></i>
                </div>
            </div>
        );

        // 2. Toggle Switch
        const Toggle = ({ label, checked, onChange }) => (
            <div className="flex items-center justify-between py-2">
                <span className="text-sm font-medium text-slate-700">{label}</span>
                <label className="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" className="sr-only peer" checked={checked} onChange={(e) => onChange(e.target.checked)} />
                    <div className="w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-slate-800"></div>
                </label>
            </div>
        );

        // 3. Subject Row
        const SubjectRow = ({ subject, onUpdate, onDelete }) => (
            <div className="group flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg shadow-subtle hover:border-primary-500/50 transition-colors animate-fade-in">
                <div className="flex-grow">
                    <input 
                        type="text" 
                        value={subject.name}
                        onChange={(e) => onUpdate(subject.id, 'name', e.target.value)}
                        placeholder="Subject Name"
                        className="w-full text-sm font-medium text-slate-800 placeholder-slate-400 bg-transparent border-none focus:ring-0 p-0"
                    />
                </div>
                
                <div className="w-20 border-l border-slate-100 pl-3">
                    <input 
                        type="number" 
                        value={subject.credits}
                        onChange={(e) => onUpdate(subject.id, 'credits', parseFloat(e.target.value) || 0)}
                        className="w-full text-sm text-right font-mono bg-slate-50 rounded px-2 py-1 border-none focus:ring-2 focus:ring-primary-100"
                        min="0"
                    />
                </div>

                <div className="w-28">
                    <select 
                        value={subject.grade}
                        onChange={(e) => onUpdate(subject.id, 'grade', e.target.value)}
                        className="w-full text-sm bg-slate-50 border-none rounded px-2 py-1.5 font-medium text-slate-700 focus:ring-2 focus:ring-primary-100 cursor-pointer"
                    >
                        <option value="">- Grade -</option>
                        {Object.entries(GRADE_POINTS).map(([key, data]) => (
                            <option key={key} value={key}>{data.label}</option>
                        ))}
                    </select>
                </div>

                <button 
                    onClick={() => onDelete(subject.id)}
                    className="w-8 h-8 flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors"
                >
                    <i className="ph ph-trash"></i>
                </button>
            </div>
        );

        // --- MAIN APP COMPONENT ---
        const App = () => {
            const [view, setView] = useState('dashboard'); // 'dashboard' | 'report'
            const [subjects, setSubjects] = useState(INITIAL_SUBJECTS);
            const [config, setConfig] = useState(INITIAL_CONFIG);
            const [isLoaded, setIsLoaded] = useState(false);

            // Load Data
            useEffect(() => {
                const saved = localStorage.getItem('gpaData_v2');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    setSubjects(parsed.subjects || INITIAL_SUBJECTS);
                    setConfig(parsed.config || INITIAL_CONFIG);
                }
                setIsLoaded(true);
            }, []);

            // Save Data
            useEffect(() => {
                if (isLoaded) {
                    localStorage.setItem('gpaData_v2', JSON.stringify({ subjects, config }));
                }
            }, [subjects, config, isLoaded]);

            // Logic
            const results = useMemo(() => {
                let currCredits = 0, currPts10 = 0, currPts4 = 0;
                
                subjects.forEach(sub => {
                    if (sub.grade && GRADE_POINTS[sub.grade]) {
                        currCredits += sub.credits;
                        currPts10 += GRADE_POINTS[sub.grade].val10 * sub.credits;
                        currPts4 += GRADE_POINTS[sub.grade].val4 * sub.credits;
                    }
                });

                const prevCredits = config.includePrev ? config.prevCredits : 0;
                const prevGPA10 = config.includePrev ? config.prevCGPA : 0;
                const prevPts10 = prevCredits * prevGPA10;
                const prevGPA4 = interpolateUS(prevGPA10);
                const prevPts4 = prevCredits * prevGPA4;

                const nextCredits = config.includeNext ? config.nextCredits : 0;
                const nextGPA10 = config.includeNext ? config.nextTarget : 0;
                const nextPts10 = nextCredits * nextGPA10;
                const nextGPA4 = interpolateUS(nextGPA10);
                const nextPts4 = nextCredits * nextGPA4;

                const totalCredits = currCredits + prevCredits + nextCredits;
                const totalPts10 = currPts10 + prevPts10 + nextPts10;
                const totalPts4 = currPts4 + prevPts4 + nextPts4;

                const finalGPA10 = totalCredits > 0 ? (totalPts10 / totalCredits) : 0;
                const finalGPA4 = totalCredits > 0 ? (totalPts4 / totalCredits) : 0;
                const finalGerman = convertToGerman(finalGPA10);

                return {
                    curr: { credits: currCredits, gpa10: currCredits > 0 ? currPts10/currCredits : 0 },
                    total: { 
                        credits: totalCredits, 
                        gpa10: finalGPA10, 
                        gpa4: finalGPA4, 
                        german: finalGerman 
                    }
                };
            }, [subjects, config]);

            // Actions
            const updateSubject = (id, field, val) => {
                setSubjects(prev => prev.map(s => s.id === id ? { ...s, [field]: val } : s));
            };

            const addSubject = () => {
                setSubjects(prev => [...prev, { id: Date.now(), name: '', credits: 3, grade: '' }]);
            };

            const removeSubject = (id) => {
                setSubjects(prev => prev.filter(s => s.id !== id));
            };

            const resetData = () => {
                if(confirm("Reset all data?")) {
                    setSubjects(INITIAL_SUBJECTS);
                    setConfig(INITIAL_CONFIG);
                }
            };

            const handleImport = (e) => {
                const file = e.target.files[0];
                if(!file) return;
                const reader = new FileReader();
                reader.onload = (evt) => {
                    // Simple CSV Parser logic from previous iteration, adapted
                    const text = evt.target.result;
                    const lines = text.split('\n');
                    const newSubjects = [];
                    const newConfig = { ...config };
                    lines.forEach((line, idx) => {
                        if(idx === 0 || !line.trim()) return;
                        const cols = line.split(',').map(c => c.trim());
                        if(cols[0] === 'CONFIG') {
                            if(cols[1] === 'prevCredits') newConfig.prevCredits = parseFloat(cols[2]);
                            if(cols[1] === 'prevCGPA') newConfig.prevCGPA = parseFloat(cols[2]);
                            // ... add others as needed
                        } else if (cols[0] === 'SUBJECT') {
                            newSubjects.push({ id: Date.now() + Math.random(), name: cols[1], credits: parseFloat(cols[2]), grade: cols[3] });
                        }
                    });
                    if(newSubjects.length > 0) setSubjects(newSubjects);
                    setConfig(newConfig);
                    alert("Data imported!");
                };
                reader.readAsText(file);
            };

            const handleExport = () => {
                let csv = "Type,Name,Value,Grade\n";
                csv += `CONFIG,prevCredits,${config.prevCredits},\n`;
                csv += `CONFIG,prevCGPA,${config.prevCGPA},\n`;
                subjects.forEach(s => {
                    csv += `SUBJECT,${s.name},${s.credits},${s.grade}\n`;
                });
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'academic_data.csv';
                a.click();
            };

            // --- RENDER ---
            return (
                <div className="min-h-screen flex flex-col max-w-6xl mx-auto px-4 sm:px-6 py-6">
                    
                    {/* Header / Nav */}
                    <header className="flex items-center justify-between mb-8">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-slate-800 text-white rounded-lg flex items-center justify-center shadow-lg">
                                <i className="ph-bold ph-student text-xl"></i>
                            </div>
                            <div>
                                <h1 className="font-bold text-slate-900 text-lg leading-tight">Academic Dashboard</h1>
                                <p className="text-xs text-slate-500 font-medium">Fall 2025 Semester</p>
                            </div>
                        </div>
                        
                        <div className="flex items-center bg-white p-1 rounded-lg border border-slate-200 shadow-sm">
                            <button 
                                onClick={() => setView('dashboard')}
                                className={`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${view === 'dashboard' ? 'bg-slate-100 text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                            >
                                Calculator
                            </button>
                            <button 
                                onClick={() => setView('report')}
                                className={`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${view === 'report' ? 'bg-slate-100 text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                            >
                                Report
                            </button>
                        </div>
                    </header>

                    {view === 'dashboard' ? (
                        <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 animate-fade-in">
                            
                            {/* Left Column: Inputs */}
                            <div className="lg:col-span-7 space-y-6">
                                
                                {/* Subject List Card */}
                                <div className="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
                                    <div className="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50">
                                        <h2 className="font-semibold text-slate-800 text-sm">Current Courses</h2>
                                        <span className="text-xs font-mono text-slate-500 bg-slate-100 px-2 py-1 rounded border border-slate-200">
                                            {subjects.reduce((acc, s) => acc + s.credits, 0)} Credits
                                        </span>
                                    </div>
                                    
                                    <div className="p-6 space-y-3">
                                        <div className="flex px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">
                                            <div className="flex-grow">Subject</div>
                                            <div className="w-20 pl-3">Credits</div>
                                            <div className="w-28">Grade</div>
                                            <div className="w-8"></div>
                                        </div>
                                        
                                        {subjects.map(subject => (
                                            <SubjectRow 
                                                key={subject.id} 
                                                subject={subject} 
                                                onUpdate={updateSubject} 
                                                onDelete={removeSubject} 
                                            />
                                        ))}

                                        <button 
                                            onClick={addSubject}
                                            className="w-full py-3 border border-dashed border-slate-300 rounded-lg text-slate-500 text-sm font-medium hover:border-primary-500 hover:text-primary-600 hover:bg-primary-50 transition-all flex items-center justify-center gap-2 mt-4"
                                        >
                                            <i className="ph-bold ph-plus"></i> Add Course
                                        </button>
                                    </div>
                                </div>

                                {/* Configuration Card */}
                                <div className="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
                                    <div className="px-6 py-4 border-b border-slate-100 bg-slate-50/50">
                                        <h2 className="font-semibold text-slate-800 text-sm">Advanced Configuration</h2>
                                    </div>
                                    <div className="p-6 grid md:grid-cols-2 gap-8">
                                        
                                        {/* History Config */}
                                        <div>
                                            <Toggle 
                                                label="Include History" 
                                                checked={config.includePrev} 
                                                onChange={(v) => setConfig(prev => ({...prev, includePrev: v}))} 
                                            />
                                            {config.includePrev && (
                                                <div className="mt-3 space-y-3 pl-4 border-l-2 border-slate-100 animate-fade-in">
                                                    <div>
                                                        <label className="block text-xs text-slate-500 mb-1">Past Credits</label>
                                                        <input 
                                                            type="number" 
                                                            value={config.prevCredits} 
                                                            onChange={(e) => setConfig({...config, prevCredits: parseFloat(e.target.value) || 0})}
                                                            className="w-full text-sm bg-slate-50 border border-slate-200 rounded px-3 py-2"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label className="block text-xs text-slate-500 mb-1">Past CGPA</label>
                                                        <input 
                                                            type="number" 
                                                            value={config.prevCGPA} 
                                                            onChange={(e) => setConfig({...config, prevCGPA: parseFloat(e.target.value) || 0})}
                                                            className="w-full text-sm bg-slate-50 border border-slate-200 rounded px-3 py-2"
                                                        />
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        {/* Prediction Config */}
                                        <div>
                                            <Toggle 
                                                label="Predict Next Sem" 
                                                checked={config.includeNext} 
                                                onChange={(v) => setConfig(prev => ({...prev, includeNext: v}))} 
                                            />
                                            {config.includeNext && (
                                                <div className="mt-3 space-y-3 pl-4 border-l-2 border-slate-100 animate-fade-in">
                                                    <div>
                                                        <label className="block text-xs text-slate-500 mb-1">Next Credits</label>
                                                        <input 
                                                            type="number" 
                                                            value={config.nextCredits} 
                                                            onChange={(e) => setConfig({...config, nextCredits: parseFloat(e.target.value) || 0})}
                                                            className="w-full text-sm bg-slate-50 border border-slate-200 rounded px-3 py-2"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label className="block text-xs text-slate-500 mb-1">Target GPA</label>
                                                        <input 
                                                            type="number" 
                                                            value={config.nextTarget} 
                                                            onChange={(e) => setConfig({...config, nextTarget: parseFloat(e.target.value) || 0})}
                                                            className="w-full text-sm bg-slate-50 border border-slate-200 rounded px-3 py-2"
                                                        />
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                    </div>
                                </div>
                            </div>

                            {/* Right Column: Stats & Actions */}
                            <div className="lg:col-span-5 space-y-6">
                                
                                {/* Primary Stats */}
                                <div className="space-y-4">
                                    <MetricCard 
                                        label="Cumulative CGPA (10.0)" 
                                        value={results.total.gpa10.toFixed(2)} 
                                        subValue="/ 10" 
                                        colorClass="text-primary-600" 
                                        icon="ph-chart-bar" 
                                    />
                                    <div className="grid grid-cols-2 gap-4">
                                        <MetricCard 
                                            label="US Scale (4.0)" 
                                            value={results.total.gpa4.toFixed(2)} 
                                            colorClass="text-emerald-600" 
                                            icon="ph-globe" 
                                        />
                                        <MetricCard 
                                            label="German Scale" 
                                            value={results.total.german.toFixed(2)} 
                                            colorClass="text-amber-600" 
                                            icon="ph-translate" 
                                        />
                                    </div>
                                </div>

                                {/* Data Management */}
                                <div className="bg-white rounded-xl border border-slate-200 p-5 shadow-subtle">
                                    <h3 className="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-4">Data Management</h3>
                                    <div className="flex gap-3">
                                        <button onClick={handleExport} className="flex-1 py-2 px-3 bg-slate-50 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors flex items-center justify-center gap-2">
                                            <i className="ph ph-download-simple"></i> Export
                                        </button>
                                        <label className="flex-1 py-2 px-3 bg-slate-50 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors flex items-center justify-center gap-2 cursor-pointer">
                                            <i className="ph ph-upload-simple"></i> Import
                                            <input type="file" accept=".csv" className="hidden" onChange={handleImport} />
                                        </label>
                                        <button onClick={resetData} className="py-2 px-3 border border-red-100 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors">
                                            <i className="ph ph-trash"></i>
                                        </button>
                                    </div>
                                    <p className="text-[10px] text-slate-400 mt-3 text-center">
                                        Data is automatically saved to local storage.
                                    </p>
                                </div>

                                {/* Credit Summary */}
                                <div className="bg-slate-800 text-white rounded-xl p-6 shadow-floating relative overflow-hidden">
                                    <div className="relative z-10">
                                        <h3 className="text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2">Total Credits</h3>
                                        <div className="text-4xl font-bold tracking-tight">{results.total.credits}</div>
                                        <div className="mt-4 flex items-center gap-2 text-xs text-slate-400">
                                            <span className="w-2 h-2 rounded-full bg-primary-500"></span>
                                            Current: {results.curr.credits}
                                            {config.includePrev && <><span className="w-2 h-2 rounded-full bg-slate-500 ml-2"></span> History: {config.prevCredits}</>}
                                        </div>
                                    </div>
                                    {/* Decorative Pattern */}
                                    <div className="absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl"></div>
                                </div>

                            </div>
                        </div>
                    ) : (
                        // REPORT VIEW
                        <div className="bg-white rounded-xl border border-slate-200 shadow-card animate-fade-in overflow-hidden">
                            <div className="p-8 border-b border-slate-100 flex justify-between items-start bg-slate-50/30">
                                <div>
                                    <h2 className="text-2xl font-bold text-slate-900 mb-1">Official Academic Report</h2>
                                    <p className="text-sm text-slate-500">Generated on {new Date().toLocaleDateString()}</p>
                                </div>
                                <button onClick={() => window.print()} className="flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg text-sm font-medium hover:bg-slate-800 transition-colors">
                                    <i className="ph-bold ph-printer"></i> Print Report
                                </button>
                            </div>
                            
                            <div className="p-8">
                                <div className="grid grid-cols-4 gap-8 mb-8 pb-8 border-b border-slate-100">
                                    <div>
                                        <p className="text-xs text-slate-500 uppercase font-semibold mb-1">Total Credits</p>
                                        <p className="text-2xl font-bold text-slate-900 font-mono">{results.total.credits}</p>
                                    </div>
                                    <div>
                                        <p className="text-xs text-slate-500 uppercase font-semibold mb-1">CGPA (10.0)</p>
                                        <p className="text-2xl font-bold text-primary-600 font-mono">{results.total.gpa10.toFixed(2)}</p>
                                    </div>
                                    <div>
                                        <p className="text-xs text-slate-500 uppercase font-semibold mb-1">US GPA (4.0)</p>
                                        <p className="text-2xl font-bold text-emerald-600 font-mono">{results.total.gpa4.toFixed(2)}</p>
                                    </div>
                                    <div>
                                        <p className="text-xs text-slate-500 uppercase font-semibold mb-1">German Note</p>
                                        <p className="text-2xl font-bold text-amber-600 font-mono">{results.total.german.toFixed(2)}</p>
                                    </div>
                                </div>

                                <table className="w-full text-sm text-left">
                                    <thead className="text-xs text-slate-500 uppercase bg-slate-50 border-y border-slate-200">
                                        <tr>
                                            <th className="px-4 py-3 font-semibold">Component</th>
                                            <th className="px-4 py-3 font-semibold text-center">Credits</th>
                                            <th className="px-4 py-3 font-semibold text-right">10-Point</th>
                                            <th className="px-4 py-3 font-semibold text-right">US 4.0</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-slate-100">
                                        {config.includePrev && (
                                            <tr>
                                                <td className="px-4 py-3 font-medium text-slate-700">History / Previous Semesters</td>
                                                <td className="px-4 py-3 text-center text-slate-600">{config.prevCredits}</td>
                                                <td className="px-4 py-3 text-right font-mono">{config.prevCGPA.toFixed(2)}</td>
                                                <td className="px-4 py-3 text-right font-mono">{interpolateUS(config.prevCGPA).toFixed(2)}</td>
                                            </tr>
                                        )}
                                        <tr className="bg-primary-50/30">
                                            <td className="px-4 py-3 font-medium text-primary-900">Current Semester</td>
                                            <td className="px-4 py-3 text-center text-primary-900">{results.curr.credits}</td>
                                            <td className="px-4 py-3 text-right font-mono font-bold text-primary-700">{results.curr.gpa10.toFixed(2)}</td>
                                            <td className="px-4 py-3 text-right font-mono font-bold text-primary-700">{interpolateUS(results.curr.gpa10).toFixed(2)}</td>
                                        </tr>
                                        {subjects.map(s => (
                                            <tr key={s.id} className="text-slate-500 hover:bg-slate-50">
                                                <td className="px-4 py-2 pl-8 border-l-2 border-transparent hover:border-slate-200">â†³ {s.name || 'Untitled Course'}</td>
                                                <td className="px-4 py-2 text-center">{s.credits}</td>
                                                <td className="px-4 py-2 text-right font-mono">{s.grade ? GRADE_POINTS[s.grade].val10 : '-'}</td>
                                                <td className="px-4 py-2 text-right font-mono">{s.grade ? GRADE_POINTS[s.grade].val4 : '-'}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
